(window["webpackJsonp_map-app"]=window["webpackJsonp_map-app"]||[]).push([["leaflet"],{"1dde":function(e,t,n){var o=n("d039"),u=n("b622"),c=n("2d00"),r=u("species");e.exports=function(e){return c>=51||!o((function(){var t=[],n=t.constructor={};return n[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,n){"use strict";var o=n("23e7"),u=n("b727").filter,c=n("1dde"),r=c("filter");o({target:"Array",proto:!0,forced:!r},{filter:function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)}})},8418:function(e,t,n){"use strict";var o=n("c04e"),u=n("9bf2"),c=n("5c6c");e.exports=function(e,t,n){var r=o(t);r in e?u.f(e,r,c(0,n)):e[r]=n}},9820:function(e,t,n){"use strict";n("e0ba")},ade3:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}))},b0c0:function(e,t,n){var o=n("83ab"),u=n("9bf2").f,c=Function.prototype,r=c.toString,i=/^\s*function ([^ (]*)/,l="name";o&&!(l in c)&&u(c,l,{configurable:!0,get:function(){try{return r.call(this).match(i)[1]}catch(e){return""}}})},d625:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return i}));var o=n("7a23"),u=function(e,t){var n,u=t.arg;if(u){var c=t.value,r=Object(o["s"])(u)?u.value:null===(n=t.instance)||void 0===n?void 0:n.$refs[u];r?"function"===typeof r.addReference?(e.$contextmenuKey=u,r.addReference(e,c)):console.error("".concat(u," 对应的实例不是 VContextmenu")):console.error("没有找到 ".concat(u," 对应的实例"))}else console.error("参数有误")},c=function(e,t){var n,o=e.$contextmenuKey;if(o){var u=null===(n=t.instance)||void 0===n?void 0:n.$refs[o];null===u||void 0===u||u.removeReference(e)}},r=function(e,t){c(e,t),u(e,t)},i={mounted:u,updated:r,beforeUnmount:c},l={contextmenu:"v-contextmenu",contextmenuIcon:"v-contextmenu-icon",contextmenuInner:"v-contextmenu-inner",contextmenuDivider:"v-contextmenu-divider",contextmenuItem:"v-contextmenu-item",contextmenuItemHover:"v-contextmenu-item--hover",contextmenuItemDisabled:"v-contextmenu-item--disabled",contextmenuGroup:"v-contextmenu-group",contextmenuGroupTitle:"v-contextmenu-group__title",contextmenuGroupMenus:"v-contextmenu-group__menus",contextmenuSubmenu:"v-contextmenu-submenu",contextmenuSubmenuTitle:"v-contextmenu-submenu__title",contextmenuSubmenuMenus:"v-contextmenu-submenu__menus",contextmenuSubmenuMenusTop:"v-contextmenu-submenu__menus--top",contextmenuSubmenuMenusRight:"v-contextmenu-submenu__menus--right",contextmenuSubmenuMenusBottom:"v-contextmenu-submenu__menus--bottom",contextmenuSubmenuMenusLeft:"v-contextmenu-submenu__menus--left",contextmenuSubmenuArrow:"v-contextmenu-submenu__arrow"};function a(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["t"])(e)}var s={trigger:["contextmenu"]},d=Object(o["o"])({name:"VContextmenu",props:{modelValue:{type:Boolean,default:!1},autoAjustPlacement:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},teleport:{type:[String,Object],default:function(){return"body"}}},emits:["show","hide","update:modelValue"],setup:function(e,t){var n=t.emit,u=Object(o["K"])(null),c=Object(o["K"])(e.modelValue||!1),r=function(e){c.value=e,n("update:modelValue",e)},i=Object(o["K"])({top:0,left:0}),l=Object(o["g"])((function(){return{top:"".concat(i.value.top,"px"),left:"".concat(i.value.left,"px")}})),a=Object(o["K"])(null),d=function(t,c){var l,a,s=t instanceof Event?c:t,d=(null===s||void 0===s?void 0:s.autoAjustPlacement)||e.autoAjustPlacement,m={top:(null===s||void 0===s?void 0:s.top)||0,left:(null===s||void 0===s?void 0:s.left)||0};t instanceof Event&&(t.preventDefault(),m.top=null!==(l=null===s||void 0===s?void 0:s.top)&&void 0!==l?l:t.pageY,m.left=null!==(a=null===s||void 0===s?void 0:s.left)&&void 0!==a?a:t.pageX);r(!0),Object(o["v"])((function(){if(d){var e=u.value;if(!e)return;var t=e.clientWidth,o=e.clientHeight;if(o+m.top>=window.innerHeight+window.scrollY){var c=m.top-o;c>window.scrollY&&(m.top=c)}if(t+m.left>=window.innerWidth+window.scrollX){var r=m.left-t;r>window.scrollX&&(m.left=r)}}i.value=m,n("show")}))},m=function(){a.value=null,r(!1),n("hide")},f=Object(o["J"])(new Map),b=Object(o["K"])(),v=Object(o["g"])((function(){return b.value&&f.get(b.value)})),p=function(t,n){var o=function(){return null!==n&&void 0!==n&&n.trigger?Array.isArray(n.trigger)?n.trigger:[n.trigger]:s.trigger}(),u=function(n){e.disabled||(b.value=t,d(n,{}))};o.forEach((function(e){t.addEventListener(e,u)})),f.set(t,{triggers:o,handler:u})},h=function(e){var t=f.get(e);t&&(t.triggers.forEach((function(n){e.removeEventListener(n,t.handler)})),f.delete(e))},O=function(e){if(e.target&&u.value&&b.value){var t=u.value.contains(e.target)||v.value&&v.value.triggers.includes("click")&&b.value.contains(e.target);t||r(!1)}};return Object(o["bb"])(c,(function(e){e?document.addEventListener("click",O):document.removeEventListener("click",O)})),Object(o["y"])((function(){document.removeEventListener("click",O)})),Object(o["G"])("visible",c),Object(o["G"])("autoAjustPlacement",e.autoAjustPlacement),Object(o["G"])("show",d),Object(o["G"])("hide",m),{visible:c,style:l,currentReferenceOptions:v,currentOptions:a,contextmenuRef:u,addReference:p,removeReference:h,toggle:r,show:d,hide:m}},methods:{renderContent:function(){var e,t;return Object(o["eb"])(Object(o["n"])("div",{class:l.contextmenu,ref:"contextmenuRef",style:this.style},[Object(o["n"])("ul",{class:l.contextmenuInner},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t,{triggerOptions:"currentReferenceOptions",options:"currentOptions"})])]),[[o["ab"],"visible"]])}},render:function(){var e;return this.visible?this.teleport?Object(o["n"])(o["c"],{to:this.teleport},a(e=this.renderContent())?e:{default:function(){return[e]}}):this.renderContent():null}});function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=Object(o["o"])({name:"VContextmenuItem",props:{disabled:{type:Boolean,default:!1},hideOnClick:{type:Boolean,default:!0}},emits:["click","mouseenter","mouseleave"],setup:function(e,t){var n=t.emit,u=Object(o["r"])("hide"),c=Object(o["K"])(!1),r=Object(o["g"])((function(){var t;return t={},m(t,l.contextmenuItem,!0),m(t,l.contextmenuItemDisabled,e.disabled),m(t,l.contextmenuItemHover,c.value),t})),i=function(t){e.disabled||(n("click",t),e.hideOnClick&&(null===u||void 0===u||u()))},a=function(t){e.disabled||(c.value=!0,n("mouseenter",t))},s=function(t){e.disabled||(c.value=!1,n("mouseleave",t))};return{classes:r,handleClick:i,handleMouseenter:a,handleMouseleave:s}},render:function(){var e,t;return Object(o["n"])("li",{class:this.classes,onClick:this.handleClick,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t)])}}),b=Object(o["o"])({name:"VContextmenuDivider",render:function(){return Object(o["n"])("li",{class:l.contextmenuDivider},null)}}),v=Object(o["o"])({name:"VContextmenuIcon",props:{name:{type:String,required:!0}},render:function(){return Object(o["n"])("i",{class:[l.contextmenuIcon,"".concat(l.contextmenuIcon,"-").concat(this.name)]},null)}}),p=Object(o["o"])({name:"VContextmenuSubmenu",props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["mouseenter","mouseleave"],setup:function(e,t){var n=t.emit,u=Object(o["K"])(null),c=Object(o["r"])("autoAjustPlacement"),r=Object(o["K"])(["top","right"]),i=Object(o["K"])(!1),a=function(t){e.disabled||(i.value=!0,n("mouseenter",t),Object(o["v"])((function(){var e=[];if(c){var n=t.target,o=n.getBoundingClientRect();if(!u.value)return;var i=u.value.clientWidth,l=u.value.clientHeight;o.right+i>=window.innerWidth?e.push("left"):e.push("right"),o.bottom+l>=window.innerHeight?e.push("bottom"):e.push("top")}r.value=e})))},s=function(t){e.disabled||(i.value=!1,n("mouseleave",t))},d=Object(o["g"])((function(){var t;return t={},m(t,l.contextmenuItem,!0),m(t,l.contextmenuSubmenuTitle,!0),m(t,l.contextmenuItemHover,i.value),m(t,l.contextmenuItemDisabled,e.disabled),t})),f=Object(o["g"])((function(){var e;return e={},m(e,l.contextmenu,!0),m(e,l.contextmenuSubmenuMenus,!0),m(e,l.contextmenuSubmenuMenusTop,r.value.includes("top")),m(e,l.contextmenuSubmenuMenusRight,r.value.includes("right")),m(e,l.contextmenuSubmenuMenusBottom,r.value.includes("bottom")),m(e,l.contextmenuSubmenuMenusLeft,r.value.includes("left")),e}));return{hover:i,submenuRef:u,titleClasses:d,menusClasses:f,handleMouseenter:a,handleMouseleave:s}},render:function(){var e,t,n,u;return Object(o["n"])("li",{class:l.contextmenuSubmenu,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[Object(o["n"])("div",{class:this.titleClasses},[(null===(e=(t=this.$slots).title)||void 0===e?void 0:e.call(t))||this.title,Object(o["n"])("span",{class:l.contextmenuSubmenuArrow},[Object(o["n"])(v,{name:"right-arrow"},null)])]),this.hover?Object(o["n"])("div",{ref:"submenuRef",class:this.menusClasses},[Object(o["n"])("ul",{class:l.contextmenuInner},[null===(n=(u=this.$slots).default)||void 0===n?void 0:n.call(u)])]):null])}}),h=Object(o["o"])({name:"VContextmenuGroup",props:{title:{type:String,default:void 0},maxWidth:{type:[Number,String],default:void 0}},setup:function(e){var t=Object(o["g"])((function(){if(e.maxWidth)return{"max-width":"number"===typeof e.maxWidth?"".concat(e.maxWidth,"px"):e.maxWidth,"overflow-x":"auto"}}));return{style:t}},methods:{renderTitle:function(){var e,t,n=(null===(e=(t=this.$slots).title)||void 0===e?void 0:e.call(t))||this.title;return n?Object(o["n"])("div",{class:l.contextmenuGroupTitle},[n]):null}},render:function(){var e,t;return Object(o["n"])("li",{class:l.contextmenuGroup},[this.renderTitle(),Object(o["n"])("ul",{style:this.style,class:l.contextmenuGroupMenus},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t)])])}})},e0ba:function(e,t,n){},e957:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),u=Object(o["hb"])("data-v-0f556493");Object(o["I"])("data-v-0f556493");var c=Object(o["m"])(" 添加菜单 "),r=Object(o["m"])(" 添加菜单组 "),i=Object(o["m"])(" 添加子菜单 "),l=Object(o["m"])(" 删除 "),a=Object(o["m"])("绘制标记"),s=Object(o["m"])("绘制多边形"),d=Object(o["m"])("拖动多边形"),m=Object(o["m"])("编辑多边形"),f=Object(o["m"])("绘制多边形"),b={id:"map",style:{width:"1000px",height:"1200px"}};Object(o["F"])();var v,p=u((function(e,t,n,v,p,h){var O=Object(o["O"])("v-contextmenu-item"),g=Object(o["O"])("v-contextmenu-group"),j=Object(o["O"])("v-contextmenu"),x=Object(o["O"])("el-button"),y=Object(o["P"])("contextmenu");return Object(o["E"])(),Object(o["i"])(o["b"],null,[Object(o["n"])(j,{ref:"rightMenu"},{default:u((function(){return[Object(o["n"])(g,{title:""},{default:u((function(){return[Object(o["n"])(O,{"hide-on-click":!1,onClick:e.plot},{default:u((function(){return[c]})),_:1},8,["onClick"]),Object(o["n"])(O,{"hide-on-click":!1,onClick:e.plot},{default:u((function(){return[r]})),_:1},8,["onClick"]),Object(o["n"])(O,{"hide-on-click":!1,onClick:e.plot},{default:u((function(){return[i]})),_:1},8,["onClick"]),Object(o["n"])(O,{"hide-on-click":!1,onClick:e.plot},{default:u((function(){return[l]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512),Object(o["n"])(x,{type:"primary",onClick:e.mark},{default:u((function(){return[a]})),_:1},8,["onClick"]),Object(o["n"])(x,{type:"primary",onClick:e.plot},{default:u((function(){return[s]})),_:1},8,["onClick"]),Object(o["n"])(x,{type:"primary",onClick:e.drag},{default:u((function(){return[d]})),_:1},8,["onClick"]),Object(o["n"])(x,{type:"primary",onClick:e.edit},{default:u((function(){return[m]})),_:1},8,["onClick"]),Object(o["n"])(x,{type:"primary",onClick:e.open},{default:u((function(){return[f]})),_:1},8,["onClick"]),Object(o["eb"])(Object(o["n"])("div",b,null,512),[[y,void 0,"rightMenu"]])],64)})),h=n("ade3"),O=(n("b0c0"),n("e11e")),g=(n("6cc5"),n("845a"),n("a94e"),n("2fd0"),n("d625")),j=Object(o["o"])({directives:{contextmenu:g["f"]},components:(v={},Object(h["a"])(v,g["a"].name,g["a"]),Object(h["a"])(v,g["d"].name,g["d"]),Object(h["a"])(v,g["c"].name,g["c"]),v),setup:function(){var e={},t=Object(o["K"])(null),u=Object(o["J"])({markerPoint:{}}),c=function(){e.pm.enableDraw("Marker",{})},r=function(){console.log("open"),e.pm.enableDraw("Polygon",{pinning:!0,snappable:!0,measurements:{measurement:!0}})},i=function(){e.pm.enable({allowSelfIntersection:!1})},l=function(){console.log("drag"),e.pm.enableGlobalDragMode()},a=function(t){console.log(t,"beforeUpload----上传文件");var n=new FileReader;n.readAsBinaryString(t),n.onload=function(){console.log(n.result,"fileReader.result");var t=new DOMParser,o=t.parseFromString(n.result,"text/xml"),u=new O["KML"](o);console.log(u,"track"),e.addLayer(u);var c=u.getBounds();e.fitBounds(c)}},s=function(e,t,n){console.log("success----on",e,t)},d=function(){console.log(t.value),t.value.show()};return Object(o["B"])((function(){delete O["Icon"].Default.prototype._getIconUrl,O["Icon"].Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")});var t=[34.263742732916505,108.01650524139406];e=O["map"]("map",{zoom:13,minZoom:10,maxZoom:22,center:[t[0],t[1]],zoomControl:!0,doubleClickZoom:!1,attributionControl:!1}),e.on("click",(function(e){console.log(e,"map--click")})),e.pm.setLang("zh"),e.pm.setPathOptions({color:"orange",fillColor:"green",fillOpacity:.3}),e.on("pm:create",(function(e){"Polygon"===e.shape&&console.log("绘制多边形",e),"Marker"===e.shape&&(u.markerPoint,console.log(e,"绘制Marker")),e.layer.on("click",(function(){console.log("创建了图层后的click事件")})),e.layer.on("pm:edit",(function(e){console.log(e,"pm:edit拖动")}))}));var o=O["tileLayer"]("https://mt{s}.sea.utuapp.cn/610403/satellite/{z}/{x}/{y}.png",{subdomains:["1","2","3","4"]}),c=O["tileLayer"]("https://mt{s}.sea.utuapp.cn/610403/overlay/{z}/{x}/{y}.png",{subdomains:["1","2","3","4"]}),r=O["tileLayer"]("https://mt{s}.sea.utuapp.cn/610403/models/610403102210/{z}/{x}/{y}.png",{subdomains:["1","2","3","4"],minZoom:10,maxZoom:22}),i=O["layerGroup"]([o,c,r]);i.addTo(e);var l=O["icon"]({iconUrl:"leaf-green.png",shadowUrl:"leaf-green.png",iconSize:[38,95],shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]}),a=O["control"].layers({"杨陵":i,"农安":i}).addTo(e);a.expand(),O["marker"]([44.41318342260997,125.1389239572005],{icon:l,pmIgnore:!0}).addTo(e)})),{plot:r,drag:l,mark:c,edit:i,contextMenuClick:d,beforeUpload:a,onSuccess:s}}});n("9820");j.render=p,j.__scopeId="data-v-0f556493";t["default"]=j}}]);